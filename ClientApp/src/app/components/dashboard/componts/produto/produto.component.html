
<!-- Botão para adicionar novo produto -->
<button type="button" pButton label="Adicionar Produto" (click)="showAddNewDialog()" style="margin-bottom: 10px;"></button>

<p-table
    [lazy]="true"
    dataKey="id"
    [tableStyle]="{ 'min-width': '20rem' }"
    [paginator]="true"
    [rows]="10"
    [value]="items">

    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="item">Produto</th>
            <th pSortableColumn="item.name">Valor R$</th>
            <th pSortableColumn="item.stock">N° Estoque</th>
            <th></th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item >
        <tr class="itenList">
            <td>{{ item.name }}</td>
            <td>{{ item.price}}</td>
            <td>{{ item.stock }}</td>
            <td>
                <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2" (click)="showDialog(item)"></button>
                <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteProduct(item)"></button>
            </td>
        </tr>
    </ng-template>

</p-table>

<p-dialog header="Detalhes do Produto" [(visible)]="displayDialog" [responsive]="true" [style]="{width: '50vw'}" [maximizable]="true">
  <div *ngIf="selectedItem" >
    <div class="form-text">
      <div>
        <label for="name">Nome:</label>
        <input class="textInput" type="text" pInputText placeholder="{{selectedItem.name}}" [(ngModel)] = "editedIten.name" />
      </div>
      <div>
          <label for="price">Preço:</label>
          <input class="textInput"  type="text" pInputText placeholder="R$ {{selectedItem.price}}"  [(ngModel)] = "editedIten.price" />
      </div>
      <div>
          <label for="stock">Estoque:</label>
          <input class="textInput"  type="text" pInputText placeholder="{{selectedItem.stock}}" [(ngModel)] = "editedIten.stock" />
      </div>
    </div>

  </div>
  <button type="button" pButton label="Salvar" (click)="saveChanges()" class="buttonSave"></button>
</p-dialog>

<!-- Dialog para adicionar novo produto -->
<p-dialog header="Adicionar Novo Produto" [(visible)]="displayAddDialog" [responsive]="true" [style]="{width: '50vw'}" [maximizable]="true">
  <div class="form-text">
      <div>
          <label for="newName">Nome:</label>
          <input class="textInput"  type="text" pInputText [(ngModel)]="newProduct.name"/>
      </div>
      <div>
          <label for="newPrice">Preço:</label>
          <input class="textInput"  type="text" pInputText [(ngModel)]="newProduct.price"/>
      </div>
      <div>
          <label for="newStock">Estoque:</label>
          <input class="textInput"  type="text" pInputText [(ngModel)]="newProduct.stock"/>
      </div>

      <!-- <div class="card flex justify-content-center">
        <p-fileUpload name="myfile[]" url="http://localhost:5000/api/stores/upload"  [multiple]="true" accept="image/*">
            <ng-template pTemplate="toolbar">
                <div class="py-3">Upload 3 Files</div>
            </ng-template>
            <ng-template let-file pTemplate="file">
                <div>Custom UI to display a file</div>
            </ng-template>
            <ng-template pTemplate="content" let-files>
                <div>Additional content.</div>
            </ng-template>  
        </p-fileUpload>
      </div> -->



      <button type="button" pButton label="Salvar" (click)="addNewProduct()"></button>
  </div>
</p-dialog>

